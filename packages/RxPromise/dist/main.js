(()=>{"use strict";const t="Expected a number",o=/[\w|\:|\.|\@]*\d+\:\d+/g;function r(t=""){const r=(t.match(o)||[]).join(";");let n=this.stackPool.findIndex((t=>t[0]===r));return n<0&&(n=this.stackPool.push([r,0,void 0])-1),n}function n(t,o){this.ExecutorFunc(t,(r=>{--this.times,this.times>0?n.call(this,t,o):o(r)}))}const e=function(o=0){if("number"!=typeof second)throw new Error(t);return 0===o?this:(this.times=o>0?o:1/0,new this.__proto__.constructor(((t,o)=>{this.then(t).catch((r=>{n.call(this,t,o)}))})))};function s(t,o,r){this.ExecutorFunc((async n=>{await r(n)?t(n):s.call(this,t,o,r)}),o)}const c=function(t){return t?new this.__proto__.constructor(((o,r)=>{this.then((async n=>{await t(n)?o(n):s.call(this,o,r,t)})).catch(r)})):this};function i(t){const o=r.call(this,(new Error).stack),n=this.stackPool[o][2];return null!=n&&clearTimeout(n),new this.__proto__.constructor(((r,n)=>{this.stackPool[o][2]=setTimeout((()=>{this.ExecutorFunc(r,n)}),1e3*t)}))}const u=function(o=0){if("number"!=typeof o)throw new Error(t);return 0===o?this:o<0?new this.__proto__.constructor((()=>{})):o>0?i.call(this,o):void 0};const h=function(o=0){if("number"!=typeof o)throw new Error(t);return o<=0?this:this.delay(o)};function a(t){const o=r.call(this,(new Error).stack),n=this.stackPool[o][1],e=Date.now();return e-n>=1e3*t?new this.__proto__.constructor(((t,r)=>{this.stackPool[o][1]=e,this.ExecutorFunc(t,r)})):new this.__proto__.constructor((()=>{}))}const l=function(o=0){if("number"!=typeof o)throw new Error(t);return 0===o?this:o<0?new this.__proto__.constructor((()=>{})):o>0?a.call(this,o):void 0};class _ extends Promise{constructor(t){super(t),this.ExecutorFunc=t}}var p,w,f;f=-1,(w="times")in(p=_)?Object.defineProperty(p,w,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[w]=f,_.prototype.retry=e,_.prototype.retryWhen=c,_.prototype.delay=u,_.prototype.stackPool=[],_.prototype.debounceTime=h,_.prototype.throttleTime=l})();